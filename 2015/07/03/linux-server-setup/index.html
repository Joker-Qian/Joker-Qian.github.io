
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>(记录)在ubuntu服务器上搭建全套开发环境 | Sky&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Sky Ao">
    

    
    <meta name="description" content="资料收集，在ubuntu服务器上搭建全套开发环境。">
<meta property="og:type" content="article">
<meta property="og:title" content="(记录)在ubuntu服务器上搭建全套开发环境">
<meta property="og:url" content="http://skyao.github.io/2015/07/03/linux-server-setup/index.html">
<meta property="og:site_name" content="Sky's Blog">
<meta property="og:description" content="资料收集，在ubuntu服务器上搭建全套开发环境。">
<meta property="og:updated_time" content="2015-08-07T12:31:26.491Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="(记录)在ubuntu服务器上搭建全套开发环境">
<meta name="twitter:description" content="资料收集，在ubuntu服务器上搭建全套开发环境。">

    
    <link rel="alternative" href="/atom.xml" title="Sky&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Sky&#39;s Blog" title="Sky&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Sky&#39;s Blog">Sky&#39;s Blog</a></h1>
				<h2 class="blog-motto">当才能不足以撑不起雄心壮志时，就应该静下心好好学习</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜單">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/03/linux-server-setup/" title="(记录)在ubuntu服务器上搭建全套开发环境" itemprop="url">(记录)在ubuntu服务器上搭建全套开发环境</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Sky Ao" target="_blank" itemprop="author">Sky Ao</a>
		
  <p class="article-time">
    <time datetime="2015-07-03T14:15:50.000Z" itemprop="datePublished"> 發表於 2015-07-03</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目錄</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#服务器配置"><span class="toc-number">2.</span> <span class="toc-text">服务器配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#增加user"><span class="toc-number">2.1.</span> <span class="toc-text">增加user</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置apt源"><span class="toc-number">2.2.</span> <span class="toc-text">设置apt源</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#开发环境搭建"><span class="toc-number">3.</span> <span class="toc-text">开发环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java相关"><span class="toc-number">3.1.</span> <span class="toc-text">Java相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装JDK"><span class="toc-number">3.1.1.</span> <span class="toc-text">安装JDK</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#版本控制"><span class="toc-number">3.2.</span> <span class="toc-text">版本控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Git"><span class="toc-number">3.2.1.</span> <span class="toc-text">安装Git</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装gitolite"><span class="toc-number">3.2.2.</span> <span class="toc-text">安装gitolite</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#导入原有git仓库"><span class="toc-number">3.2.3.</span> <span class="toc-text">导入原有git仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装gitlab"><span class="toc-number">3.2.4.</span> <span class="toc-text">安装gitlab</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打包发布工具"><span class="toc-number">3.3.</span> <span class="toc-text">打包发布工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装ant"><span class="toc-number">3.3.1.</span> <span class="toc-text">安装ant</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装ivy"><span class="toc-number">3.3.2.</span> <span class="toc-text">安装ivy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装maven"><span class="toc-number">3.3.3.</span> <span class="toc-text">安装maven</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装artifactory"><span class="toc-number">3.3.4.</span> <span class="toc-text">安装artifactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置maven"><span class="toc-number">3.3.5.</span> <span class="toc-text">配置maven</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装gradle"><span class="toc-number">3.3.6.</span> <span class="toc-text">安装gradle</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#持续集成环境"><span class="toc-number">3.4.</span> <span class="toc-text">持续集成环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Jenkins"><span class="toc-number">3.4.1.</span> <span class="toc-text">安装Jenkins</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运行环境搭建"><span class="toc-number">4.</span> <span class="toc-text">运行环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#web服务器"><span class="toc-number">4.1.</span> <span class="toc-text">web服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装nginx"><span class="toc-number">4.1.1.</span> <span class="toc-text">安装nginx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库服务器"><span class="toc-number">4.2.</span> <span class="toc-text">数据库服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装mongodb"><span class="toc-number">4.2.1.</span> <span class="toc-text">安装mongodb</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装redis"><span class="toc-number">4.2.2.</span> <span class="toc-text">安装redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装mysql"><span class="toc-number">4.2.3.</span> <span class="toc-text">安装mysql</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开发工具"><span class="toc-number">4.3.</span> <span class="toc-text">开发工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装sonar"><span class="toc-number">4.3.1.</span> <span class="toc-text">安装sonar</span></a></li></ol></li></ol></li></ol>
		
		</div>
		
		<p>资料收集，在ubuntu服务器上搭建全套开发环境。</p>
<a id="more"></a>
<h1 id="前言">前言</h1><p>最近打算更换开发用的服务器，需要将全套开发测试环境搬过去。坦白说这个过程挺麻烦的，记录一下全过程，以备下次使用。</p>
<p>后续发生变化或者增加新的内容时，会持续更新此文。</p>
<h1 id="服务器配置">服务器配置</h1><p>在选择linux服务器版本，犹豫了一下，最后还是选择了自己最熟悉的ubuntu server 14.04版本。主要是这些年用apt-get用的比较爽…</p>
<p>开发环境而已，要求不用高，符合自己习惯就好，就不折腾其他高级货色了。</p>
<h2 id="增加user">增加user</h2><p>增加自己习惯的user，这个user需要拥有sudo的权限：</p>
<pre><code><span class="keyword">adduser </span>-g sudo sky
</code></pre><h2 id="设置apt源">设置apt源</h2><p>如果服务器在国内，则可以考虑设置apt源为国内代理，这样速度要好很多。</p>
<p>首先备份源列表:</p>
<pre><code>sudo cp <span class="regexp">/etc/</span>apt<span class="regexp">/sources.list /</span>etc<span class="regexp">/apt/</span>sources.list_backup
</code></pre><p>然后修改/etc/apt/sources.list文件，我选择用163的镜像:</p>
<pre><code>deb <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty main restricted universe multiverse</span>
deb <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-security main restricted universe multiverse</span>
deb <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-updates main restricted universe multiverse</span>
deb <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-proposed main restricted universe multiverse</span>
deb <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-backports main restricted universe multiverse</span>
deb-src <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty main restricted universe multiverse</span>
deb-src <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-security main restricted universe multiverse</span>
deb-src <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-updates main restricted universe multiverse</span>
deb-src <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-proposed main restricted universe multiverse</span>
deb-src <span class="string">http:</span><span class="comment">//mirrors.163.com/ubuntu/ trusty-backports main restricted universe multiverse</span>
</code></pre><p>记得执行update命令：</p>
<pre><code>sudo apt-<span class="built_in">get</span> <span class="keyword">update</span>
</code></pre><h1 id="开发环境搭建">开发环境搭建</h1><h2 id="Java相关">Java相关</h2><h3 id="安装JDK">安装JDK</h3><p>安装jdk7，暂时不上jdk8. 懒得手工安装了，直接apt-get。</p>
<pre><code>sudo<span class="instruction"> add-apt-repository </span>ppa:webupd8team/java
sudo apt-get update
sudo apt-get install oracle-java7-installer
sudo apt-get install oracle-java7-set-default
</code></pre><p><a href="http://ubuntuhandbook.org/index.php/2014/02/install-oracle-java-6-7-or-8-ubuntu-14-04/" target="_blank" rel="external">参考地址</a>。</p>
<p>运行java –version的结果：</p>
<pre><code>java version <span class="string">"1.7.0_72"</span>
Java<span class="list">(<span class="keyword">TM</span>)</span> SE Runtime Environment <span class="list">(<span class="keyword">build</span> <span class="number">1.7</span>.<span class="number">0</span>_72-b14)</span>
Java HotSpot<span class="list">(<span class="keyword">TM</span>)</span> <span class="number">64</span>-Bit Server VM <span class="list">(<span class="keyword">build</span> <span class="number">24.72</span>-b04, mixed mode)</span>
</code></pre><p>执行 echo $JAVA_HOME看了一下JAVA_HOME的设置：</p>
<pre><code><span class="regexp">/usr/</span>lib<span class="regexp">/jvm/</span>java-<span class="number">7</span>-oracle
</code></pre><p>如果手工安装，可以从oracle网站下载安装文件，如jdk-7u75-linux-x64.gz（对于ubuntu不要下载rpm版本）。</p>
<p>手工解压缩到安装路径:</p>
<pre><code>gunzip jdk-<span class="number">7</span>u75-linux-x64<span class="class">.gz</span>
gunzip jdk-<span class="number">7</span>u75-linux-x64<span class="class">.gz</span>
sudo mkdir /usr/lib/jvm
sudo mv jdk-<span class="number">7</span>u75-linux-x64 /usr/lib/jvm/jdk7
</code></pre><p>修改/etc/profile文件，在最后加入以下内容：</p>
<pre><code><span class="comment"># java</span>
<span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/jdk7
<span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span>
</code></pre><p>安装好后检验一下：</p>
<pre><code><span class="keyword">source</span> /etc/<span class="keyword">profile</span>
java -<span class="keyword">version</span>
</code></pre><h2 id="版本控制">版本控制</h2><h3 id="安装Git">安装Git</h3><p>为了拿到最新版本的git，增加仓库：</p>
<pre><code>sudo<span class="instruction"> add-apt-repository </span>ppa:git-core/ppa
sudo apt-get update
sudo apt-get install git
</code></pre><p><a href="http://stackoverflow.com/questions/19109542/installing-latest-version-of-git-in-ubuntu" target="_blank" rel="external">参考地址</a></p>
<h3 id="安装gitolite">安装gitolite</h3><p>先增加git的group和user：</p>
<pre><code><span class="keyword">addgroup </span>git
<span class="keyword">adduser </span>--ingroup git git
</code></pre><p>然后用其他账号登录服务器，先准备一份ssh key：</p>
<pre><code>ssh-keygen -t rsa
</code></pre><p>生成的~/.ssh/id_rsa.pub 文件后面要用到。</p>
<p>然后su 到git用户，执行下面的命令：</p>
<pre><code>su git
git clone git://github.com/sitaramc/gitolite
mkdir -p <span class="variable">$HOME</span>/bin
gitolite/install -<span class="keyword">to</span> <span class="variable">$HOME</span>/bin
<span class="variable">$HOME</span>/bin/gitolite setup -pk path/<span class="keyword">to</span>/above/id_rsa.pub
</code></pre><p>输出如下：</p>
<pre><code>Initialized empty Git repository in /home/git/repositories/gitolite-admin.git/
Initialized empty Git repository in /home/git/repositories/testing.git/
<span class="label">WARNING: </span>/home/git/.ssh missing; creating a new one
<span class="code">    (this is normal on a brand new install)</span>
<span class="label">WARNING: </span>/home/git/.ssh/authorized<span class="emphasis">_keys missing; creating a new one
    (this is normal on a brand new install)</span>
</code></pre><p>退出git账号，回到刚才的账号，试试git clone。</p>
<pre><code>git clone git<span class="variable">@localhost</span><span class="symbol">:gitolite-admin</span>.git
git clone git<span class="variable">@localhost</span><span class="symbol">:testing</span>.git
</code></pre><p>不出意外的话应该可以clone下来，说明    gitolite 安装完成。还可以这样检查，执行ssh git@localhost命令：</p>
<pre><code>ssh git@localhost
PTY allocation request failed on channel 0
hello root, this <span class="keyword">is</span> git@sky1 running gitolite3 v3.6.2-4-g2471e18 on git 2.1.3

 R W    gitolite-admin
 R W    testing
Connection to localhost <span class="keyword">closed</span>.
</code></pre><p>安装时忘了先创建非root账号了，所以上面看到的用户是root。后来创建了sky账号，需要用root账号将sky的ssh key复制到gitolite-admin/keydir，然后提交。另外需要修改gitolite-admin/conf/gitolite.conf文件，增加sky的仓库访问权限。为了方便起见，建立group admin：</p>
<pre><code><span class="variable">@admin</span>=root sky

repo gitolite-admin
    RW+     =   <span class="variable">@admin</span>

repo testing
    RW+     =   <span class="variable">@all</span>
</code></pre><h3 id="导入原有git仓库">导入原有git仓库</h3><p>将原有gitolite下的git 仓库打成tar包，然后传到新机器。解开tar，将tar包中repositories下各个git仓库复制到/home/git/repositories/下(记得gitolite-admin除外)，然后修改gitolite-admin/conf/gitolite.conf，增加各个仓库的对应访问信息即可。</p>
<h3 id="安装gitlab">安装gitlab</h3><p>在配置另外一台ubuntu server时，决定试试gitlab，因为功能比gitolite强大。</p>
<p>安装方式参考gitlab官方资料，打开 <a href="https://about.gitlab.com/downloads/" target="_blank" rel="external">https://about.gitlab.com/downloads/</a> 页面，”select operating system”选”ubuntu14.04”，然后按照指示执行安装：</p>
<pre><code>sudo apt-get install openssh-server
sudo apt-get install postfix
wget https:<span class="comment">//downloads-packages.s3.amazonaws.com/ubuntu-14.04/gitlab_7.7.2-omnibus.5.4.2.ci-1_amd64.deb</span>
sudo dpkg -i gitlab_7<span class="number">.7</span><span class="number">.2</span>-omnibus<span class="number">.5</span><span class="number">.4</span><span class="number">.2</span>.ci-<span class="number">1</span>_amd64.deb
</code></pre><p>安装完成之后，修改一下配置文件，主要是设置端口，默认是用80端口。</p>
<pre><code>sudo vi <span class="regexp">/etc/gi</span>tlab<span class="regexp">/gitlab.rb</span>
</code></pre><p>修改external_url，直接增加端口号即可，比如我这里用8800端口：</p>
<pre><code><span class="title">external_url</span> <span class="string">'http://skyserver:8800'</span>
</code></pre><p>修改之后再执行命令：</p>
<pre><code><span class="title">sudo</span> gitlab-ctl reconfigure
</code></pre><p>完成后通过浏览器访问(<a href="http://skyserver:8800)默认管理员密码如下：" target="_blank" rel="external">http://skyserver:8800)默认管理员密码如下：</a></p>
<pre><code><span class="attribute">Username</span>: <span class="string">root </span>
<span class="attribute">Password</span>: <span class="string">5iveL!fe</span>
</code></pre><h2 id="打包发布工具">打包发布工具</h2><h3 id="安装ant">安装ant</h3><p>执行命令：</p>
<pre><code>sudo apt-<span class="keyword">get</span> install ant
</code></pre><p>检查安装之后的版本:</p>
<pre><code>ant -<span class="property">version</span>
Apache Ant(TM) <span class="property">version</span> <span class="number">1.9</span><span class="number">.3</span> compiled <span class="function_start"><span class="keyword">on</span></span> April <span class="number">8</span> <span class="number">2014</span>
</code></pre><p>默认没有设置ANT_HOME，还是自己手工加上吧。打开/etc/profile,在最后加入：</p>
<pre><code><span class="keyword">export</span> ANT_HOME=<span class="regexp">/usr/</span>share/ant
</code></pre><h3 id="安装ivy">安装ivy</h3><p>理论上从apache ivy的网站下载ivy的jar包放到ant安装目录的lib文件夹下即可。复制时看到ant/lib下的jar包都是link到/usr/share/java下，所以也同样将ivy-2.4.0-rc1.jar复制到/usr/share/java，然后link过去：</p>
<pre><code>sudo ln -s ../../java/ivy-<span class="number">2.4</span><span class="number">.0</span>-rc1.jar .
</code></pre><h3 id="安装maven">安装maven</h3><p><a href="http://www.sysads.co.uk/2014/05/install-apache-maven-3-2-1-ubuntu-14-04/" target="_blank" rel="external">参考地址</a>，步骤如下：</p>
<ol>
<li>Remove older version</li>
<li>Add following lines to sources.list</li>
<li>Update Repository and Install</li>
<li>Add Symbolic Link</li>
</ol>
<p>具体执行命令依次如下：</p>
<pre><code>sudo apt-get remove maven2
sudo<span class="instruction"> add-apt-repository </span><span class="string">"deb http://ppa.launchpad.net/natecarlson/maven3/ubuntu precise main"</span>
sudo apt-get update
sudo apt-get install maven3
sudo ln -s /usr/share/maven3/bin/mvn /usr/bin/mvn
</code></pre><h3 id="安装artifactory">安装artifactory</h3><p>从<a href="http://www.jfrog.com/download.php" target="_blank" rel="external">http://www.jfrog.com/download.php</a>下载到最新的artifactory，将zip包解压。</p>
<p>安装前需要确保JAVA_HOME有正确设置，可以修改 /etc/environment，加入JAVA_HOME：</p>
<pre><code><span class="constant">JAVA_HOME</span>=<span class="regexp">/usr/lib</span><span class="regexp">/jvm/java</span>-<span class="number">7</span>-oracle
</code></pre><p>将目录复制到/usr/lib，执行安装:</p>
<pre><code>sudo mv artifactory*** /usr/lib/
sudo mv artifactory*** artifactory
cd artifactory/bin
sudo ./installService.sh
service artifactory<span class="instruction"> check
</span>sudo service artifactory start
</code></pre><p>安装成功后就可以通过<a href="http://localhost:8081访问artifactory的页面了，默认管理员账号和密码为admin/password。" target="_blank" rel="external">http://localhost:8081访问artifactory的页面了，默认管理员账号和密码为admin/password。</a></p>
<p><a href="http://www.softwarepassion.com/install-artifactory-on-ubuntu-box/" target="_blank" rel="external">参考地址</a>。</p>
<p>安全起见，登录后先修改admin密码，点击Admin -&gt; Security -&gt; Users -&gt; User List -&gt; admin，修改密码即可。 </p>
<p>另外，Admin -&gt; Security -&gt; General, 取消”Allow Anonymous Access”。</p>
<h3 id="配置maven">配置maven</h3><p>为了让mvn能连接到本地的artifactory，需要配置maven。</p>
<p>修改maven的配置文件，全局配置文件在maven3安装路径 /usr/share/maven3/conf/ 下，需要更新server配置信息和profile 配置信息。</p>
<p>server配置段：</p>
<pre><code><span class="variable">&lt;servers&gt;</span>
 <span class="variable">&lt;server&gt;</span>
    <span class="variable">&lt;username&gt;</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="variable">&lt;/username&gt;</span>
    <span class="variable">&lt;password&gt;</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="variable">&lt;/password&gt;</span>
    <span class="variable">&lt;id&gt;</span>releases<span class="variable">&lt;/id&gt;</span>
  <span class="variable">&lt;/server&gt;</span>
  <span class="variable">&lt;server&gt;</span>
    <span class="variable">&lt;username&gt;</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="variable">&lt;/username&gt;</span>
    <span class="variable">&lt;password&gt;</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="variable">&lt;/password&gt;</span>
    <span class="variable">&lt;id&gt;</span>snapshots<span class="variable">&lt;/id&gt;</span>
  <span class="variable">&lt;/server&gt;</span>
<span class="variable">&lt;/servers&gt;</span>
</code></pre><p>profile配置段：</p>
<pre><code><span class="tag">&lt;<span class="title">profiles</span>&gt;</span>
  <span class="tag">&lt;<span class="title">profile</span>&gt;</span>
    <span class="tag">&lt;<span class="title">repositories</span>&gt;</span>
      <span class="tag">&lt;<span class="title">repository</span>&gt;</span>
        <span class="tag">&lt;<span class="title">snapshots</span>&gt;</span>
          <span class="tag">&lt;<span class="title">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="title">enabled</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">snapshots</span>&gt;</span>
        <span class="tag">&lt;<span class="title">id</span>&gt;</span>releases<span class="tag">&lt;/<span class="title">id</span>&gt;</span>
        <span class="tag">&lt;<span class="title">name</span>&gt;</span>libs-release<span class="tag">&lt;/<span class="title">name</span>&gt;</span>
        <span class="tag">&lt;<span class="title">url</span>&gt;</span>http://localhost:8081/artifactory/libs-release<span class="tag">&lt;/<span class="title">url</span>&gt;</span>
      <span class="tag">&lt;/<span class="title">repository</span>&gt;</span>
      <span class="tag">&lt;<span class="title">repository</span>&gt;</span>
        <span class="tag">&lt;<span class="title">snapshots</span> /&gt;</span>
        <span class="tag">&lt;<span class="title">id</span>&gt;</span>snapshots<span class="tag">&lt;/<span class="title">id</span>&gt;</span>
        <span class="tag">&lt;<span class="title">name</span>&gt;</span>libs-snapshot<span class="tag">&lt;/<span class="title">name</span>&gt;</span>
        <span class="tag">&lt;<span class="title">url</span>&gt;</span>http://localhost:8081/artifactory/libs-snapshot<span class="tag">&lt;/<span class="title">url</span>&gt;</span>
      <span class="tag">&lt;/<span class="title">repository</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">repositories</span>&gt;</span>
    <span class="tag">&lt;<span class="title">pluginRepositories</span>&gt;</span>
      <span class="tag">&lt;<span class="title">pluginRepository</span>&gt;</span>
        <span class="tag">&lt;<span class="title">snapshots</span>&gt;</span>
          <span class="tag">&lt;<span class="title">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="title">enabled</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">snapshots</span>&gt;</span>
        <span class="tag">&lt;<span class="title">id</span>&gt;</span>releases<span class="tag">&lt;/<span class="title">id</span>&gt;</span>
        <span class="tag">&lt;<span class="title">name</span>&gt;</span>plugins-release<span class="tag">&lt;/<span class="title">name</span>&gt;</span>
        <span class="tag">&lt;<span class="title">url</span>&gt;</span>http://localhost:8081/artifactory/plugins-release<span class="tag">&lt;/<span class="title">url</span>&gt;</span>
      <span class="tag">&lt;/<span class="title">pluginRepository</span>&gt;</span>
      <span class="tag">&lt;<span class="title">pluginRepository</span>&gt;</span>
        <span class="tag">&lt;<span class="title">snapshots</span> /&gt;</span>
        <span class="tag">&lt;<span class="title">id</span>&gt;</span>snapshots<span class="tag">&lt;/<span class="title">id</span>&gt;</span>
        <span class="tag">&lt;<span class="title">name</span>&gt;</span>plugins-snapshot<span class="tag">&lt;/<span class="title">name</span>&gt;</span>
        <span class="tag">&lt;<span class="title">url</span>&gt;</span>http://localhost:8081/artifactory/plugins-snapshot<span class="tag">&lt;/<span class="title">url</span>&gt;</span>
      <span class="tag">&lt;/<span class="title">pluginRepository</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">pluginRepositories</span>&gt;</span>
    <span class="tag">&lt;<span class="title">id</span>&gt;</span>artifactory<span class="tag">&lt;/<span class="title">id</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">profile</span>&gt;</span>
<span class="tag">&lt;/<span class="title">profiles</span>&gt;</span>

<span class="tag">&lt;<span class="title">activeProfiles</span>&gt;</span>
  <span class="tag">&lt;<span class="title">activeProfile</span>&gt;</span>artifactory<span class="tag">&lt;/<span class="title">activeProfile</span>&gt;</span>
<span class="tag">&lt;/<span class="title">activeProfiles</span>&gt;</span>
</code></pre><h3 id="安装gradle">安装gradle</h3><p>为了安装最新的版本，增加gradle的源后再安装：</p>
<pre><code>sudo<span class="instruction"> add-apt-repository </span>ppa:cwchien/gradle
sudo apt-get update
sudo apt-get install gradle
</code></pre><p>执行gradle -version：</p>
<pre><code>Build time:   <span class="number">2014</span>-<span class="number">11</span>-<span class="number">10</span> <span class="number">13</span>:<span class="number">31</span>:<span class="number">44</span> UTC
Build number: none
Revision:     aab8521f1fd9a3484cac18123a72bcfdeb7006ec

Groovy:       <span class="number">2.3</span><span class="number">.6</span>
Ant:          <span class="function">Apache <span class="title">Ant</span><span class="params">(TM)</span> version 1.9.3 compiled on December 23 2013
JVM:          1.7.0_72 <span class="params">(Oracle Corporation <span class="number">24.72</span>-b04)</span>
OS:           Linux 2.6.32-042stab090.5 amd64</span>
</code></pre><p>版本2.2，看了官网最新版本是2.2.1,3天前发布的，估计源还没有来得及更新。</p>
<h2 id="持续集成环境">持续集成环境</h2><h3 id="安装Jenkins">安装Jenkins</h3><p>执行以下命令安装jenkins：</p>
<pre><code>wget -<span class="keyword">q</span> -O - http<span class="variable">s:</span>//jenkins-ci.org/debian/jenkins-ci.org.key | sudo apt-key <span class="built_in">add</span> -
sudo <span class="keyword">sh</span> -<span class="keyword">c</span> <span class="string">'echo deb http://pkg.jenkins-ci.org/debian binary/ &gt; /etc/apt/sources.list.d/jenkins.list'</span>
sudo apt-<span class="built_in">get</span> <span class="keyword">update</span>
sudo apt-<span class="built_in">get</span> install jenkins
</code></pre><p><a href="https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+Ubuntu" target="_blank" rel="external">参考地址</a>。</p>
<p>安装完成后Jenkins 运行于8080端口。用PS命令可以看到一些Jenkins运行的配置信息，如JENKINS_HOME.</p>
<pre><code>ps -ef |grep jenkins
jenkins   <span class="number">7158</span>     <span class="number">1</span>  <span class="number">0</span> <span class="number">07</span>:<span class="number">50</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /usr/bin/daemon --name=jenkins --inherit --env=JENKINS_HOME=/var/lib/jenkins --output=/var/<span class="built_in">log</span>/jenkins/jenkins.<span class="built_in">log</span> --pidfile=/var/run/jenkins/jenkins.pid -- /usr/bin/java -Djava.awt.headless=<span class="literal">true</span> -jar /usr/share/jenkins/jenkins.war --webroot=/var/cache/jenkins/war --httpPort=<span class="number">8080</span> --ajp13Port=-<span class="number">1</span>
jenkins   <span class="number">7159</span>  <span class="number">7158</span> <span class="number">99</span> <span class="number">07</span>:<span class="number">50</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">24</span> /usr/bin/java -Djava.awt.headless=<span class="literal">true</span> -jar /usr/share/jenkins/jenkins.war --webroot=/var/cache/jenkins/war --httpPort=<span class="number">8080</span> --ajp13Port=-<span class="number">1</span>
</code></pre><p>如果需要修改为8080之外的其他端口，需要修改配置文件”/etc/default/jenkins”</p>
<pre><code><span class="preprocessor"># port for HTTP connector (default <span class="number">8080</span>; disable with -<span class="number">1</span>)</span>
HTTP_PORT=<span class="number">8080</span>
</code></pre><p>修改后执行”sudo service jenkins restart”重启jenkins。</p>
<p>同样安全起见，不能让匿名用户有太多权限。</p>
<ol>
<li>Jenkins -&gt; Configure Global Security -&gt; 启用安全 勾上，访问控制选 Jenkins专用用户数据库（千万记得选上“容许用户注册”！）， 授权策略选 登录用户可以做任何事。</li>
<li>保存之后页面跳转要求登录，这个时候选注册，填写表单后注册成功，用刚注册的用户名登录</li>
<li>Jenkins -&gt; Configure Global Security，取消 “容许用户注册”</li>
</ol>
<h1 id="运行环境搭建">运行环境搭建</h1><p>虽然是开发环境，好歹搭点东西可以跑个Demo什么的。</p>
<h2 id="web服务器">web服务器</h2><h3 id="安装nginx">安装nginx</h3><p>执行命令：</p>
<pre><code>sudo apt-<span class="built_in">get</span> <span class="keyword">update</span>
sudo apt-<span class="built_in">get</span> install nginx
</code></pre><p>默认nginx安装完成后自动启动，监听80端口，而且开机自启也是默认做好的。</p>
<p>默认配置文件在/etc/nginx/nginx.conf，默认site配置在/etc/nginx/sites-enabled/default。</p>
<p>默认site的文件在/usr/share/nginx/html。</p>
<h2 id="数据库服务器">数据库服务器</h2><h3 id="安装mongodb">安装mongodb</h3><p>执行以下命令（<a href="http://docs.mongodb.org/manual/tutorial/install-mongodb-on-ubuntu/" target="_blank" rel="external">参考地址</a>）：</p>
<pre><code>sudo apt-<span class="built_in">key</span> adv --keyserver hkp:<span class="comment">//keyserver.ubuntu.com:80 --recv 7F0CEB10</span>
echo 'deb http:<span class="comment">//downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen' | sudo tee /etc/apt/sources.list.d/mongodb.list</span>
sudo apt-<span class="built_in">get</span> <span class="keyword">update</span>
sudo apt-<span class="built_in">get</span> install -y mongodb-org
</code></pre><p>安装完成后，看看mongodb的版本，执行mongod –version：</p>
<pre><code>db version v2<span class="number">.6</span><span class="number">.5</span>
<span class="number">2014</span>-<span class="number">11</span>-<span class="number">28</span>T06:<span class="number">50</span>:<span class="number">30.454</span>+<span class="number">0000</span> git version: e99d4fcb4279c0279796f237aa92fe3b64560bf6
</code></pre><h3 id="安装redis">安装redis</h3><h3 id="安装mysql">安装mysql</h3><p>执行以下命令:</p>
<pre><code>sudo apt-get <span class="operator"><span class="keyword">install</span> mysql-<span class="keyword">server</span></span>
</code></pre><p>中途会要求设置root密码，安装完成后mysql就已经自动启动了，可以用下面的命令来操作mysql：</p>
<pre><code>sudo service mysql <span class="built_in">start</span>
sudo service mysql <span class="built_in">stop</span>
sudo service mysql restart
</code></pre><p>执行下面命令来初始化mysql安装设置，记得容许root用户远程访问：</p>
<pre><code><span class="regexp">/usr/</span>bin<span class="regexp">/mysql_secure_installation</span>
</code></pre><p>如果不执行上面的脚本，也可以自己登录mysql后手工设置：</p>
<pre><code><span class="title">mysql</span> -uroot -p
</code></pre><p>输入root密码，登录后在mysql的命令行中执行：</p>
<pre><code>mysql&gt;use mysql;
mysql&gt;delete <span class="keyword">from</span> user <span class="keyword">where</span> password=<span class="string">""</span>;
mysql&gt;update user <span class="keyword">set</span> host = <span class="string">'%'</span> <span class="keyword">where</span> user = <span class="string">'root'</span>;
mysql&gt;flush privileges;
mysql&gt;quit
</code></pre><p>对于root账号，如果考虑安全应该新建其他账号用于远程登录，root账号可以不必开启远程登录。不过对于一般使用，没有太多安全需求，允许root用户远程登录可以方便管理，毕竟使用专用管理软件的图形界面在操作方面要方便的多。</p>
<p>也可以用root账号设置好其他使用账号之后，再禁用root账号的远程访问功能。</p>
<p>mysql默认是监听127.0.0.1地址的，为了让外网可以访问mysql，需要修改mysql配置文件：</p>
<pre><code>sudo <span class="keyword">vi</span> /etc/mysql/my.<span class="keyword">cnf</span>
</code></pre><p>找到该行并注释掉</p>
<pre><code><span class="preprocessor">#bind-address　　　　　 = <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span>
</code></pre><p>保存修改后的my.cnf文件后执行 sudo service mysql restart 重启mysql即可远程访问。</p>
<h2 id="开发工具">开发工具</h2><h3 id="安装sonar">安装sonar</h3><p>先准备好mysql，在mysql中新建名为sonar的database,encoding选择为UTF-8，然后新建名为sonar密码也是sonar的用户，设置好对sonar database的权限。</p>
<p>从<a href="http://www.sonarqube.org/downloads/" target="_blank" rel="external">sonar官网</a>下载最新的<a href="http://downloads.sonarsource.com/sonarqube/sonarqube-5.1.1.zip" target="_blank" rel="external">sonar zip包</a>，然后解压缩。</p>
<p>修改conf/sonar.properties文件，打开一下注释：</p>
<pre><code>sonar<span class="class">.jdbc</span><span class="class">.username</span>=sonar
sonar<span class="class">.jdbc</span><span class="class">.password</span>=sonar

sonar<span class="class">.jdbc</span><span class="class">.url</span>=jdbc:mysql:<span class="comment">//localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8&amp;rewriteBatchedStatements=true&amp;useConfigs=maxPerformance</span>

sonar<span class="class">.web</span><span class="class">.port</span>=<span class="number">6800</span>
</code></pre><p>然后执行 “./bin/linux-x86-32/sonar.sh start”，启动sonar。打开浏览器访问<a href="http://yourip:6800/" target="_blank" rel="external">http://yourip:6800/</a> 即可。默认管理员账号密码为: admin/admin。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux/">Linux</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/linux/">linux</a><a href="/tags/server/">server</a><a href="/tags/ubuntu/">ubuntu</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://skyao.github.io/2015/07/03/linux-server-setup/" data-title="(记录)在ubuntu服务器上搭建全套开发环境 | Sky&#39;s Blog" data-tsina="1967338300" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/07/14/computer-fanqiang/" title="使用shadowsocks实现科学上网">
  <strong>上一篇：</strong><br/>
  <span>
  使用shadowsocks实现科学上网</span>
</a>
</div>


<div class="next">
<a href="/2015/06/29/mint-install-nodejs/"  title="(记录)在mint linux 下安装nodejs">
 <strong>下一篇：</strong><br/> 
 <span>(记录)在mint linux 下安装nodejs
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2015/07/03/linux-server-setup/" data-title="(记录)在ubuntu服务器上搭建全套开发环境" data-url="http://skyao.github.io/2015/07/03/linux-server-setup/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="顯示側邊欄"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目錄</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#服务器配置"><span class="toc-number">2.</span> <span class="toc-text">服务器配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#增加user"><span class="toc-number">2.1.</span> <span class="toc-text">增加user</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置apt源"><span class="toc-number">2.2.</span> <span class="toc-text">设置apt源</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#开发环境搭建"><span class="toc-number">3.</span> <span class="toc-text">开发环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java相关"><span class="toc-number">3.1.</span> <span class="toc-text">Java相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装JDK"><span class="toc-number">3.1.1.</span> <span class="toc-text">安装JDK</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#版本控制"><span class="toc-number">3.2.</span> <span class="toc-text">版本控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Git"><span class="toc-number">3.2.1.</span> <span class="toc-text">安装Git</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装gitolite"><span class="toc-number">3.2.2.</span> <span class="toc-text">安装gitolite</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#导入原有git仓库"><span class="toc-number">3.2.3.</span> <span class="toc-text">导入原有git仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装gitlab"><span class="toc-number">3.2.4.</span> <span class="toc-text">安装gitlab</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打包发布工具"><span class="toc-number">3.3.</span> <span class="toc-text">打包发布工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装ant"><span class="toc-number">3.3.1.</span> <span class="toc-text">安装ant</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装ivy"><span class="toc-number">3.3.2.</span> <span class="toc-text">安装ivy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装maven"><span class="toc-number">3.3.3.</span> <span class="toc-text">安装maven</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装artifactory"><span class="toc-number">3.3.4.</span> <span class="toc-text">安装artifactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置maven"><span class="toc-number">3.3.5.</span> <span class="toc-text">配置maven</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装gradle"><span class="toc-number">3.3.6.</span> <span class="toc-text">安装gradle</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#持续集成环境"><span class="toc-number">3.4.</span> <span class="toc-text">持续集成环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Jenkins"><span class="toc-number">3.4.1.</span> <span class="toc-text">安装Jenkins</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运行环境搭建"><span class="toc-number">4.</span> <span class="toc-text">运行环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#web服务器"><span class="toc-number">4.1.</span> <span class="toc-text">web服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装nginx"><span class="toc-number">4.1.1.</span> <span class="toc-text">安装nginx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库服务器"><span class="toc-number">4.2.</span> <span class="toc-text">数据库服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装mongodb"><span class="toc-number">4.2.1.</span> <span class="toc-text">安装mongodb</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装redis"><span class="toc-number">4.2.2.</span> <span class="toc-text">安装redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装mysql"><span class="toc-number">4.2.3.</span> <span class="toc-text">安装mysql</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开发工具"><span class="toc-number">4.3.</span> <span class="toc-text">开发工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装sonar"><span class="toc-number">4.3.1.</span> <span class="toc-text">安装sonar</span></a></li></ol></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隱藏側邊欄"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分類</p>
		<ul>
		
		  
			<li><a href="/categories/CI/" title="CI">CI<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Design/" title="Design">Design<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Git/" title="Git">Git<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java/" title="Java">Java<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Log/" title="Log">Log<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Network/" title="Network">Network<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Redis/" title="Redis">Redis<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/杂谈/" title="杂谈">杂谈<sup>9</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">標簽</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/linux/" title="linux">linux<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/log/" title="log">log<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/gitbook/" title="gitbook">gitbook<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/logback/" title="logback">logback<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/ubuntu/" title="ubuntu">ubuntu<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/git/" title="git">git<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/redis/" title="redis">redis<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/install/" title="install">install<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/uml/" title="uml">uml<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/archlinux/" title="archlinux">archlinux<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/blog/" title="blog">blog<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/replication/" title="replication">replication<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/nodejs/" title="nodejs">nodejs<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/mint/" title="mint">mint<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/apiblueprint/" title="apiblueprint">apiblueprint<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/logger/" title="logger">logger<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/systemd/" title="systemd">systemd<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/upstart/" title="upstart">upstart<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/server/" title="server">server<sup>1</sup></a></li>
			
		
		</ul>
</div>


  
  <div class="tagcloudlist">
    <p class="asidetitle">標簽雲</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/CI/" style="font-size: 10px;">CI</a> <a href="/tags/apiblueprint/" style="font-size: 10px;">apiblueprint</a> <a href="/tags/archlinux/" style="font-size: 10px;">archlinux</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/doclet/" style="font-size: 10px;">doclet</a> <a href="/tags/ebook/" style="font-size: 10px;">ebook</a> <a href="/tags/exquilla/" style="font-size: 10px;">exquilla</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/gitbook/" style="font-size: 16.67px;">gitbook</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/tags/install/" style="font-size: 11.67px;">install</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/javadoc/" style="font-size: 10px;">javadoc</a> <a href="/tags/jdk/" style="font-size: 10px;">jdk</a> <a href="/tags/jenkins/" style="font-size: 10px;">jenkins</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/log/" style="font-size: 18.33px;">log</a> <a href="/tags/logback/" style="font-size: 16.67px;">logback</a> <a href="/tags/logger/" style="font-size: 10px;">logger</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/mint/" style="font-size: 10px;">mint</a> <a href="/tags/mint-linux/" style="font-size: 10px;">mint linux</a> <a href="/tags/netty/" style="font-size: 10px;">netty</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/performance/" style="font-size: 10px;">performance</a> <a href="/tags/plantuml/" style="font-size: 10px;">plantuml</a> <a href="/tags/redis/" style="font-size: 13.33px;">redis</a> <a href="/tags/replication/" style="font-size: 10px;">replication</a> <a href="/tags/server/" style="font-size: 10px;">server</a> <a href="/tags/shadowsocks/" style="font-size: 10px;">shadowsocks</a> <a href="/tags/slf4j/" style="font-size: 10px;">slf4j</a> <a href="/tags/study/" style="font-size: 10px;">study</a> <a href="/tags/sublime/" style="font-size: 10px;">sublime</a> <a href="/tags/systemd/" style="font-size: 10px;">systemd</a> <a href="/tags/tag/" style="font-size: 10px;">tag</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/uml/" style="font-size: 11.67px;">uml</a> <a href="/tags/upstart/" style="font-size: 10px;">upstart</a> <a href="/tags/windows/" style="font-size: 10px;">windows</a> <a href="/tags/翻墙/" style="font-size: 10px;">翻墙</a>
    </div>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情鏈接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1967338300&verifier=&dpc=1"></iframe>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 訂閱</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello, I&#39;m Sky comes from VIPS. <br/>
			This is my blog, welcome!</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/aoxiaojian" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/skyao" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
		<a href="mailto:aoxiaojian@hotmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="/about" target="_blank" title="Sky Ao">Sky Ao</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#nothing"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"skyao"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-49977582-1', 'skyao.github.io');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回頂部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
